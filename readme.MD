# ğŸ“Š Sistema Completo de RegresiÃ³n Lineal OLS con ValidaciÃ³n de Modelo

Sistema web profesional para realizar regresiÃ³n lineal mÃºltiple por MÃ­nimos Cuadrados Ordinarios (OLS) con **validaciÃ³n completa de supuestos del modelo**.

## âœ¨ CaracterÃ­sticas Principales

### AnÃ¡lisis OLS Completo
âœ… EstimaciÃ³n de coeficientes Î²Ì‚ = (X'X)â»Â¹X'y  
âœ… Errores estÃ¡ndar, estadÃ­sticos t, p-values  
âœ… Intervalos de confianza al 95%
âœ… RÂ², RÂ² ajustado  
âœ… DeterminaciÃ³n de significancia estadÃ­stica  

### ValidaciÃ³n de Supuestos
âœ… **Normalidad de Residuos** - Prueba de Jarque-Bera  
âœ… **Homocedasticidad** - Prueba de Breusch-Pagan  
âœ… **AutocorrelaciÃ³n** - Prueba de Durbin-Watson  
âœ… **Multicolinealidad** - Factor de InflaciÃ³n de Varianza (VIF)  

### DiagnÃ³stico Visual
âœ… Histograma de residuos con curva normal  
âœ… Q-Q Plot para normalidad  
âœ… Residuos vs Valores Ajustados  
âœ… Residuos vs Ãndice de observaciÃ³n  

### Interface Web Profesional
âœ… Interface intuitiva con Flask  
âœ… Carga de archivos CSV/Excel  
âœ… VisualizaciÃ³n interactiva de resultados  
âœ… Descarga de resultados en Excel  

## ğŸ“ Estructura del Proyecto

```
proyecto_ols_flask/
â”œâ”€â”€ app.py                  # AplicaciÃ³n Flask principal
â”œâ”€â”€ requirements.txt        # Dependencias
â”œâ”€â”€ README_FLASK.md        # Esta guÃ­a
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html         # Interfaz web
â”œâ”€â”€ uploads/               # Carpeta para archivos subidos (se crea automÃ¡ticamente)
â””â”€â”€ mini.csv               # Archivo de prueba
```

## ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n

### Paso 1: Clonar o descargar el proyecto
```bash
mkdir proyecto_ols_flask
cd proyecto_ols_flask
```

### Paso 2: Crear entorno virtual (recomendado)
```bash
# En Windows
python -m venv venv
venv\Scripts\activate

# En Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

### Paso 3: Instalar dependencias
```bash
pip install -r requirements.txt
```

### Paso 4: Crear estructura de carpetas
```bash
mkdir templates
mkdir uploads
```

### Paso 5: Colocar archivos
- Guardar `app.py` en la raÃ­z del proyecto
- Guardar `index.html` dentro de la carpeta `templates/`
- Guardar `mini.csv` en la raÃ­z (opcional, para pruebas)

## â–¶ï¸ Ejecutar la AplicaciÃ³n

```bash
python app.py
```

La aplicaciÃ³n estarÃ¡ disponible en: **http://localhost:5000**

## ğŸ“– Uso del Sistema

### 1. Acceder a la aplicaciÃ³n
Abrir navegador en `http://localhost:5000`

### 2. Cargar datos
- **Archivo:** Seleccionar CSV o Excel (mÃ¡ximo 5000 filas)
- **Variable Y:** Nombre exacto de la variable dependiente
- **Variables X:** Nombres separados por comas (1-10 variables)
- **Intercepto:** SÃ­/No
- **Nivel Î±:** 0.01, 0.05 o 0.10

### 3. Ejecutar anÃ¡lisis
Click en "ğŸš€ Ejecutar RegresiÃ³n y ValidaciÃ³n"

### 4. Interpretar resultados

#### **Tabla de Coeficientes**
Muestra para cada variable:
- **Beta (Î²Ì‚):** Coeficiente estimado
- **Error EstÃ¡ndar:** SE(Î²Ì‚)
- **t:** EstadÃ­stico t = Î²Ì‚/SE
- **P-value:** Significancia estadÃ­stica
- **IC 95%:** Intervalo de confianza
- **Significativo:** SÃ­/No segÃºn Î±

#### **Resumen del Modelo**
- **n:** NÃºmero de observaciones
- **k:** NÃºmero de parÃ¡metros
- **RSS:** Suma de cuadrados de residuos
- **ÏƒÂ²:** Varianza del error
- **RÂ²:** Bondad de ajuste
- **RÂ² ajustado:** RÂ² penalizado por variables

#### **ValidaciÃ³n de Supuestos**

**ğŸ”” Prueba de Jarque-Bera (Normalidad)**
- **Hâ‚€:** Los residuos siguen distribuciÃ³n normal
- **InterpretaciÃ³n:** 
  - p-value > Î± â†’ No se rechaza Hâ‚€ (residuos normales) âœ…
  - p-value < Î± â†’ Se rechaza Hâ‚€ (residuos no normales) âŒ

**ğŸ“Š Prueba de Breusch-Pagan (Homocedasticidad)**
- **Hâ‚€:** Varianza constante (homocedasticidad)
- **InterpretaciÃ³n:**
  - p-value > Î± â†’ Varianza constante âœ…
  - p-value < Î± â†’ Heterocedasticidad âŒ

**ğŸ”„ Prueba de Durbin-Watson (AutocorrelaciÃ³n)**
- **EstadÃ­stico DW:** Rango [0, 4]
- **InterpretaciÃ³n:**
  - DW â‰ˆ 2 â†’ No autocorrelaciÃ³n âœ…
  - DW < 1.5 â†’ AutocorrelaciÃ³n positiva âŒ
  - DW > 2.5 â†’ AutocorrelaciÃ³n negativa âŒ

**ğŸ”— Factor de InflaciÃ³n de Varianza (Multicolinealidad)**
- **Regla:** VIF < 10 es aceptable
- **InterpretaciÃ³n:**
  - VIF < 5 â†’ Baja multicolinealidad âœ…
  - 5 < VIF < 10 â†’ Multicolinealidad moderada âš ï¸
  - VIF > 10 â†’ Multicolinealidad severa âŒ

#### **GrÃ¡ficos de DiagnÃ³stico**
1. **Histograma de residuos:** Debe aproximarse a curva normal
2. **Q-Q Plot:** Puntos deben estar cerca de la lÃ­nea diagonal
3. **Residuos vs Ajustados:** DispersiÃ³n aleatoria sin patrones
4. **Residuos vs Ãndice:** No debe haber tendencias

### 5. Descargar resultados
Click en "ğŸ’¾ Descargar Resultados Completos (Excel)"

El archivo Excel incluye:
- **Hoja 1:** Coeficientes estimados
- **Hoja 2:** Resumen del modelo
- **Hoja 3:** Resultados de pruebas diagnÃ³sticas

## ğŸ“ Ejemplo con mini.csv

### Archivo mini.csv
```csv
y,x1,x2
1.20,1,2
1.70,2,1
1.95,3,3
1.95,4,5
2.70,5,4
```

### ConfiguraciÃ³n
- **Archivo:** mini.csv
- **Variable Y:** y
- **Variables X:** x1,x2
- **Intercepto:** SÃ­
- **Nivel Î±:** 0.05

### Resultados Esperados
```
Coeficientes:
- Intercepto: Î²â‚€ â‰ˆ 1.025 (significativo)
- x1: Î²â‚ â‰ˆ 0.458 (significativo)
- x2: Î²â‚‚ â‰ˆ -0.167 (no significativo)

Modelo:
- n = 5
- k = 3
- RÂ² â‰ˆ 0.95
```

## ğŸ”§ Especificaciones TÃ©cnicas

### FÃ³rmulas Implementadas

#### EstimaciÃ³n OLS
```
Î²Ì‚ = (X'X)â»Â¹X'y
Å· = XÎ²Ì‚
e = y - Å·
RSS = e'e
ÏƒÂ² = RSS/(n-k)
Var(Î²Ì‚) = ÏƒÂ²(X'X)â»Â¹
SE(Î²Ì‚) = âˆšdiag(Var(Î²Ì‚))
t = Î²Ì‚/SE(Î²Ì‚)
p-value = 2Ã—P(T > |t|), df = n-k
IC 95% = Î²Ì‚ Â± tâ‚€.â‚‰â‚‡â‚… Ã— SE(Î²Ì‚)
```

#### Jarque-Bera
```
S = E[(e - Î¼)Â³]/ÏƒÂ³  (skewness)
K = E[(e - Î¼)â´]/Ïƒâ´  (kurtosis)
JB = (n/6)[SÂ² + (K-3)Â²/4]
JB ~ Ï‡Â²(2)
```

#### Breusch-Pagan
```
1. eÂ² = XÎ³ + u  (regresiÃ³n auxiliar)
2. BP = nÃ—RÂ²_aux
3. BP ~ Ï‡Â²(k-1)
```

#### Durbin-Watson
```
DW = Î£(eâ‚œ - eâ‚œâ‚‹â‚)Â²/Î£eâ‚œÂ²
Rango: [0, 4]
```

#### VIF
```
Para cada Xâ±¼:
1. Xâ±¼ = Xâ‚‹â±¼Î´ + u  (regresiÃ³n auxiliar)
2. VIFâ±¼ = 1/(1 - RÂ²â±¼)
```

### Restricciones
- **Observaciones:** 1 â‰¤ n â‰¤ 5000
- **Variables X:** 1 â‰¤ p â‰¤ 10
- **Datos:** Solo valores numÃ©ricos
- **Formato:** CSV o Excel (.xls, .xlsx)

### Manejo de Datos Faltantes
- Las filas con NA en Y o cualquier X se eliminan automÃ¡ticamente
- El sistema reporta cuÃ¡ntas filas fueron eliminadas
- Si no quedan observaciones vÃ¡lidas, se muestra error

## âš™ï¸ ConfiguraciÃ³n Avanzada

### Cambiar Puerto
En `app.py`, lÃ­nea final:
```python
app.run(debug=True, port=5000)  # Cambiar 5000 por el puerto deseado
```

### Aumentar LÃ­mite de TamaÃ±o de Archivo
En `app.py`:
```python
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MB
```

### Modo ProducciÃ³n
```bash
# Desactivar modo debug
app.run(debug=False, host='0.0.0.0', port=5000)

# O usar servidor WSGI (recomendado)
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

## ğŸ› SoluciÃ³n de Problemas

### Error: ModuleNotFoundError
```bash
# Reinstalar dependencias
pip install -r requirements.txt
```

### Error: Template not found
```bash
# Verificar que index.html estÃ© en templates/
mkdir templates
# Mover index.html a templates/
```

### Error: Archivo muy grande
```bash
# Aumentar lÃ­mite en app.py
app.config['MAX_CONTENT_LENGTH'] = 50 * 1024 * 1024  # 50MB
```

### Error: Puerto en uso
```bash
# Cambiar puerto en app.py o liberar puerto
# Windows
netstat -ano | findstr :5000
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:5000 | xargs kill -9
```

## ğŸ“Š InterpretaciÃ³n de Resultados

### Â¿CuÃ¡ndo es vÃ¡lido el modelo?

El modelo OLS es **vÃ¡lido** si cumple:

1. âœ… **Coeficientes significativos** (p-value < Î±)
2. âœ… **Residuos normales** (Jarque-Bera p > Î±)
3. âœ… **Homocedasticidad** (Breusch-Pagan p > Î±)
4. âœ… **No autocorrelaciÃ³n** (DW â‰ˆ 2)
5. âœ… **No multicolinealidad** (VIF < 10)
6. âœ… **Buen ajuste** (RÂ² alto, preferible > 0.7)

### Â¿QuÃ© hacer si falla alguna prueba?

âŒ **Residuos no normales:**
- Verificar outliers
- Transformar variable Y (log, sqrt)
- Aumentar tamaÃ±o muestral

âŒ **Heterocedasticidad:**
- Usar errores estÃ¡ndar robustos
- Transformar variables
- MÃ­nimos cuadrados ponderados

âŒ **AutocorrelaciÃ³n:**
- Incluir rezagos de Y
- Modelo de series temporales
- MÃ­nimos cuadrados generalizados

âŒ **Multicolinealidad:**
- Eliminar variables correlacionadas
- RegresiÃ³n en componentes principales
- Aumentar muestra

## ğŸ“š Referencias TeÃ³ricas

- **Greene, W.H.** (2018). *Econometric Analysis* (8th ed.)
- **Wooldridge, J.M.** (2019). *Introductory Econometrics* (7th ed.)
- **Davidson, R. & MacKinnon, J.G.** (2004). *Econometric Theory and Methods*

## ğŸ¤ Contribuciones

Para reportar bugs o sugerir mejoras, contactar al desarrollador.

## ğŸ“„ Licencia

Este sistema es de uso educativo para cursos de econometrÃ­a y estadÃ­stica.

---

**Desarrollado con:** Python 3.x + Flask + NumPy + SciPy + Matplotlib  
**Ãšltima actualizaciÃ³n:** Noviembre 2025  
**VersiÃ³n:** 2.0 (con validaciÃ³n completa)

## ğŸ¯ Resumen RÃ¡pido

```bash
# 1. Instalar
pip install -r requirements.txt

# 2. Ejecutar
python app.py

# 3. Abrir navegador
http://localhost:5000

# 4. Subir datos y ejecutar
```

Â¡Listo para usar! ğŸš€